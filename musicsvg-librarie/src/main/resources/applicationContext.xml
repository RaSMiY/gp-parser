<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN"
    "http://www.springframework.org/dtd/spring-beans-2.0.dtd">

<beans>
    <bean id="frame_tmp" class="net.sourceforge.musicsvg.gui.spike.MainFrame">
        <property name="addDirectoryListener" ref="addDirectoryListener"/>
    </bean>



    <!-- swing -->
    <bean id="frame" class="net.sourceforge.musicsvg.gui.LibrarieMainFrame">
        <constructor-arg>
            <ref bean="menu"/>
        </constructor-arg>
        <constructor-arg>
            <ref bean="mainPanel"/>
        </constructor-arg>
    </bean>
    
    <bean id="menu" class="net.sourceforge.musicsvg.gui.LibrarieMenu">
        <property name="addDirectoryListeners">
            <list>
                <ref bean="addDirectoryListener"/>
            </list>
        </property>
    </bean>

    <bean id="statusBar" class="net.sourceforge.musicsvg.gui.LibrarieStatusBar"/>
    
    <bean id="mainPanel" class="net.sourceforge.musicsvg.gui.LibrarieMainPanel">
        <constructor-arg>
            <ref bean="statusBar"/>
        </constructor-arg>
    </bean>

    <bean id="tablatureTables" class="net.sourceforge.musicsvg.gui.LibrarieTable"/>
        
    <!-- listeners -->
    <bean id="addDirectoryListener" class="net.sourceforge.musicsvg.gui.listener.AddDirectoryListener">
        <property name="parent" ref="frame"/>
        <property name="controller" ref="controller"/>
        <property name="parser" ref="gp4InfoParser"/>
    </bean>

    <bean id="controller" class="net.sourceforge.musicsvg.main.LibrarieController">
        <property name="songDao" ref="songDao"/>
        <property name="addLibrarieListeners">
            <list>
                <ref bean="mainPanel"/>
                <ref bean="statusBar"/>
            </list>
        </property>
    </bean>
    
    <bean id="gp4InfoParserListener" class="net.sourceforge.musicsvg.io.impl.GP4InfoParserListenerImpl">
        <property name="songDAO" ref="songDao"/>
        <property name="songFactory" ref="songFactory"/>
    </bean>

    <bean id="gp4InfoParser" class="net.sourceforge.musicsvg.io.GP4Parser">
        <property name="listener" ref="gp4InfoParserListener"/>
    </bean>

    <bean id="songFactory" class="net.sourceforge.musicsvg.model.factory.impl.SongFactoryImpl"/>
    
</beans>